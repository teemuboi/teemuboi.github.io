(this.webpackJsonpalkeet=this.webpackJsonpalkeet||[]).push([[0],{10:function(t,e,n){},11:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),i=n(5),u=n.n(i),o=(n(10),n(2)),a=(n(11),0),s=[{id:a++,name:"mug",price:5,stock:50,amount:0,img:"https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8bXVnfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60"},{id:a++,name:"mug two",price:43,stock:25,amount:0,img:"https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8bXVnfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60"},{id:a++,name:"fani",price:120,stock:10,amount:0,img:"https://images.unsplash.com/photo-1565151443833-29bf2ba5dd8d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8ZmFufGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60"}],j=n(3),b=n(0),d=function(t){var e=t.product,n=t.addProduct;return Object(b.jsxs)("tr",{className:"products",children:[Object(b.jsx)("td",{children:Object(b.jsx)("img",{className:"productimg",src:e.img,alt:"product"})}),Object(b.jsxs)("td",{children:[Object(b.jsx)("p",{children:e.name}),Object(b.jsxs)("p",{children:[e.price,"\u20ac"]}),Object(b.jsxs)("p",{children:[e.stock-e.amount," in stock"]}),Object(b.jsx)("button",{onClick:function(){return n(e.id)},children:"add to cart"})]})]})},l=function(t){var e=t.products,n=t.setProducts,c=function(t){n(e.map((function(e){return t===e.id&&1+e.amount<=e.stock&&(e=Object(j.a)(Object(j.a)({},e),{},{amount:e.amount+1})),e})))};return Object(b.jsx)("table",{children:Object(b.jsx)("tbody",{children:e.map((function(t){return Object(b.jsx)(d,{product:t,addProduct:c},t.id)}))})})},m=function(t){var e=t.product,n=t.addProduct;return Object(b.jsxs)("div",{children:[e.name," ",Object(b.jsxs)("b",{children:["x",e.amount]}),Object(b.jsx)("button",{onClick:function(){return n(e.id,1)},children:"+"}),"/",Object(b.jsx)("button",{onClick:function(){return n(e.id,-1)},children:"-"})]})},O=function(t){var e=t.submitHandler,n=Object(c.useState)(""),r=Object(o.a)(n,2),i=r[0],u=r[1],a=Object(c.useState)(""),s=Object(o.a)(a,2),j=s[0],d=s[1],l=Object(c.useState)(""),m=Object(o.a)(l,2),O=m[0],x=m[1];return Object(b.jsxs)("form",{onSubmit:function(t){return e(t,i,j,O)},children:["name:",Object(b.jsx)("input",{onChange:function(t){return u(t.target.value)},type:"text",value:i,required:!0}),Object(b.jsx)("br",{}),"email:",Object(b.jsx)("input",{onChange:function(t){return d(t.target.value)},type:"text",value:j,required:!0}),Object(b.jsx)("br",{}),"phonenumber:",Object(b.jsx)("input",{onChange:function(t){return x(t.target.value)},type:"text",value:O,required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"submit"})]})},x=function(t){var e=t.detail,n=t.products,c=t.confirmOrder;return Object(b.jsxs)("div",{children:["products: ",Object(b.jsx)("br",{}),n.map((function(t){return t.amount>0?Object(b.jsxs)("div",{children:[t.name," x",t.amount]},t.id):null}))," ",Object(b.jsx)("br",{}),"name:",e.name," ",Object(b.jsx)("br",{}),"email:",e.email," ",Object(b.jsx)("br",{}),"phonenumber:",e.phone," ",Object(b.jsx)("br",{}),Object(b.jsx)("button",{onClick:function(){return c()},children:"confirm order"})]})},f=function(t){var e=t.basketlist,n=t.setProducts,r=Object(c.useState)(!1),i=Object(o.a)(r,2),u=i[0],a=i[1],s=Object(c.useState)(!1),d=Object(o.a)(s,2),l=d[0],f=d[1],p=Object(c.useState)(!1),h=Object(o.a)(p,2),k=h[0],g=h[1],v=Object(c.useState)({}),D=Object(o.a)(v,2),C=D[0],M=D[1],w=function(t,c){n(e.map((function(e){return t===e.id&&c+e.amount<=e.stock&&(e=Object(j.a)(Object(j.a)({},e),{},{amount:e.amount+c})),e})))},B=0;return Object(b.jsxs)("div",{className:"basket",children:[Object(b.jsxs)("button",{onClick:function(){return a(!u)},children:[u?"Hide basket":"Show basket"," "]}),u&&Object(b.jsxs)("div",{children:["Basket:",Object(b.jsx)("button",{onClick:function(){n(e.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{amount:t.amount=0})})))},children:"empty"}),e.map((function(t){return t.amount>0?(B+=t.price*t.amount,Object(b.jsx)(m,{product:t,addProduct:w},t.id)):null})),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{children:["= ",Object(b.jsxs)("i",{children:[B,"\u20ac"]})]}),B>0&&Object(b.jsxs)("button",{onClick:function(){return f(!l)},children:[l?"return":"go to checkout"," "]}),l&&Object(b.jsx)("div",{children:k?Object(b.jsx)(x,{detail:C,products:e,confirmOrder:function(){window.location.reload(!1)}}):Object(b.jsx)(O,{submitHandler:function(t,e,n,c,r){t.preventDefault(),M({name:e,email:n,phone:c,address:r}),g(!k)}})})]})]})},p=function(){var t=Object(c.useState)(s),e=Object(o.a)(t,2),n=e[0],r=e[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{className:"App-header",children:"fanikauppa"}),Object(b.jsx)(f,{basketlist:n,setProducts:r}),Object(b.jsx)(l,{products:n,setProducts:r})]})},h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,i=e.getLCP,u=e.getTTFB;n(t),c(t),r(t),i(t),u(t)}))};u.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root")),h()}},[[13,1,2]]]);
//# sourceMappingURL=main.ef5a7e3a.chunk.js.map